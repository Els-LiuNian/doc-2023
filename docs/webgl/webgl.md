## webgl 基础

#### webgl 不足

- 效果略差，相比于 DirectX，OpenGL，UE，Unity
- 开发成本高，熟悉一定的数据知识，尤其是线性代数
- 硬件要求高，尤其是 GPU

#### webgl 正交右手坐标系

- x 轴最左边为-1，最右边为 1；
- y 轴最下边为-1，最上边为 1；
- z 轴朝向你的方向最大值为 1，远离你的方向最大值为-1；
  > 注：这些值与 canvas 的尺寸无关，无论 canvas 的长宽比是多少，webgl 的区间值都是一致的

#### 基础概念

webgl 在电脑的 GPU 中运行，因此你需要使用能够在 GPU 上运行的代码。这样的代码需要提供成对的方法。没对方法中一个叫顶点着色器，另一个叫片段着色器，并且使用一种和 C 或 C++类似的强类型的语言 GLSL（GL 着色语言），每一对组合起来称作一个 program（着色程序）。

顶点着色器的作用是计算顶点的位置。根据计算出的一系列顶点位置，WebGL 可以对点，线，和三角形在内的一些图元进行光栅化处理。当对这些图元进行光删化处理时需要使用片段着色器方法。片段着色器的作用是计算出当前绘制图元中每个像素的颜色值。

几乎整个 WebGLAPI 都是关于如何设置这些成对方法的状态值以及运行他们，对于想要绘制的每一个对象，都需要先设置一系列状态值，然后通过调用 `gl.drawArrays` 或 `gl.drawElements` 运行一个着色方法对，使得你的着色器能够在 GPU 上运行。

这些方法对所需的任何数据都需要发送到 GPU，这里有着色器获取数据的 4 种方法：

1. 属性（Attributes）和缓冲
   > 缓冲是发送到 GPU 的一些二进制数据序列，通常情况下缓冲数据包括位置，法向量，纹理坐标，顶点颜色值等。你可以储存任何数据。
   > 属性用来指明怎么从缓冲中获取所需数据并将它提供给顶点着色器。
   > 缓冲不是随意读取的，事实上顶点着色器运行的次数是一个指定的确切数字，每一次运行属性会从指定的缓冲中按照指定规则依次获取下一个值
2. 全局变量（Uniforms）
   > 全局变量在着色程序运行前赋值，在运行过程中全局有效
3. 纹理（Textures）
   > 纹理是一个数据序列，可以在着色程序运行中随意读取其中的数据。大多数情况存储的是图像数据，但是纹理仅仅是数据序列，你也可以随意存放除了颜色数据以外的其他数据。
4. 可变量（Varyings）
   > 可变量是一种顶点着色器给片段着色器传值的方式，依次渲染的图元是点，线，还是三角形，顶点着色器中设置的可变量会在片段着色器运行中获取不同的插值。
